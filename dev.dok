FROM cirrusci/flutter:2.8.1

RUN mkdir -p /usr/src/app

WORKDIR /usr/src/app
COPY . /usr/src/app

RUN flutter pub upgrade
RUN flutter pub get

VOLUME [ "/usr/src/app" ]

CMD ["flutter", "run", "-d", "web-server", "--web-hostname", "0.0.0.0", "--web-port=8080"]
